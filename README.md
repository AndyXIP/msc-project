# AI Hoodie Evaluator

![Status](https://img.shields.io/badge/Status-Complete-success)
![Python](https://img.shields.io/badge/Python-3.11%2B-blue?logo=python&logoColor=white)
![React](https://img.shields.io/badge/React-18-61DAFB?logo=react&logoColor=white)
![FastAPI](https://img.shields.io/badge/FastAPI-0.100%2B-009688?logo=fastapi&logoColor=white)
![TypeScript](https://img.shields.io/badge/TypeScript-5.0%2B-3178C6?logo=typescript&logoColor=white)
![License](https://img.shields.io/badge/License-MIT-yellow)

An MSc dissertation project investigating human preferences between original marketplace hoodie designs and AI-generated alternatives using fine-tuned Stable Diffusion models. The platform collects voting data to analyze patterns in design aesthetics and user preferences.

**Demo (Archived):** https://msc-project-nu.vercel.app

---

## Table of Contents

- [Overview](#overview)
- [Features](#features)
- [Tech Stack](#tech-stack)
- [Architecture](#architecture)
- [Project Structure](#project-structure)
- [Getting Started](#getting-started)
  - [Prerequisites](#prerequisites)
  - [Installation](#installation)
  - [Running Locally](#running-locally)
- [AI Pipeline](#ai-pipeline)
- [API Documentation](#api-documentation)
- [Deployment](#deployment)
- [License](#license)

---

## Overview

This project explores the intersection of AI-generated fashion and consumer preferences through a comparative voting platform. Users are presented with pairs of hoodies—one original from marketplaces like Redbubble, Society6, and Threadless, and one generated by a fine-tuned Stable Diffusion model—and vote on their preferred design.

The system includes:
- **Web Scraping Pipeline**: Automated collection of hoodie designs from multiple marketplaces
- **Image Processing**: OCR-based text filtering and quality validation
- **AI Generation**: Fine-tuned Stable Diffusion v1.5 model for hoodie design generation
- **Voting Platform**: React-based interface for comparative design evaluation
- **Data Collection**: FastAPI backend for tracking user preferences and voting patterns

---

## Features

- **Comparative Design Voting**: Side-by-side presentation of original vs AI-generated hoodies
- **Multi-Source Scraping**: Automated data collection from Redbubble, Society6, and Threadless
- **Intelligent Filtering**: OCR-based text detection to exclude designs with embedded text
- **AI-Powered Generation**: Fine-tuned Stable Diffusion model trained on marketplace hoodie aesthetics
- **Real-Time Results**: Track voting patterns and design preferences
- **Responsive UI**: Modern, accessible interface built with shadcn/ui components
- **Shop Integration**: Browse and explore hoodie designs with detailed metadata

---

## Tech Stack

### Frontend
- **React 18** with TypeScript
- **Vite** for fast builds and HMR
- **shadcn/ui** component library (Radix UI primitives)
- **TailwindCSS** for styling
- **React Router** for navigation
- **TanStack Query** for data fetching

### Backend
- **FastAPI** (Python 3.11+)
- **Uvicorn** ASGI server
- **CORS middleware** for cross-origin requests

### AI/ML Pipeline
- **PyTorch** for deep learning
- **Stable Diffusion v1.5** (Hugging Face Diffusers)
- **EasyOCR** for text detection
- **Selenium** for web scraping
- **Pillow** for image processing
- **Transformers** (CLIP models)

### Deployment
- **Vercel** (Frontend hosting)
- **Render** (Backend hosting)

---

## Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                         Frontend (React)                        │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐           │
│  │  Home/Vote   │  │  Shop View   │  │ Results View │           │
│  └──────────────┘  └──────────────┘  └──────────────┘           │
└────────────────────────────┬────────────────────────────────────┘
                             │ REST API
┌────────────────────────────▼────────────────────────────────────┐
│                      Backend (FastAPI)                          │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐           │
│  │ GET /hoodies │  │  Vote Logic  │  │ Data Storage │           │
│  └──────────────┘  └──────────────┘  └──────────────┘           │
└────────────────────────────┬────────────────────────────────────┘
                             │
┌────────────────────────────▼────────────────────────────────────┐
│                      AI Pipeline (Python)                       │
│                                                                 │
│  ┌────────────────┐      ┌──────────────────┐                   │
│  │  Web Scraping  │ ───► │ Image Processing │                   │
│  │  (Selenium)    │      │  (OCR, Filters)  │                   │
│  └────────────────┘      └──────────────────┘                   │
│                                   │                             │
│  ┌────────────────┐      ┌────────▼─────────┐                   │
│  │  Generated     │ ◄─── │ Stable Diffusion │                   │
│  │  Designs       │      │  (Fine-tuned)    │                   │
│  └────────────────┘      └──────────────────┘                   │
└─────────────────────────────────────────────────────────────────┘
```

---

## Project Structure

```
msc-project/
├── frontend/                    # React + TypeScript frontend
│   ├── src/
│   │   ├── components/          # Reusable UI components
│   │   │   ├── HoodieCard.tsx
│   │   │   ├── Navbar.tsx
│   │   │   └── ui/              # shadcn/ui components
│   │   ├── pages/               # Route pages
│   │   │   ├── Home.tsx         # Voting interface
│   │   │   ├── Shop.tsx         # Browse hoodies
│   │   │   ├── Results.tsx      # Voting results
│   │   │   └── HoodieDetail.tsx
│   │   ├── services/            # API clients
│   │   │   └── api.ts
│   │   ├── types/               # TypeScript definitions
│   │   └── App.tsx
│   ├── package.json
│   └── vite.config.ts
│
├── backend/                     # FastAPI backend
│   ├── app/
│   │   ├── api/
│   │   │   └── routes.py        # API endpoints
│   │   └── main.py              # FastAPI application
│   ├── data/
│   │   └── hoodies.json         # Hoodie dataset
│   └── requirements.txt
│
├── ai/                          # AI/ML pipeline
│   ├── web-scraping/            # Data collection
│   │   ├── scrape.py            # Main scraping orchestrator
│   │   ├── redbubble.py         # Redbubble scraper
│   │   ├── society6.py          # Society6 scraper
│   │   └── threadless.py        # Threadless scraper
│   ├── processing/              # Data preprocessing
│   │   └── utils/
│   │       ├── description_generator.py
│   │       └── save_data.py
│   ├── training/                # Model training scripts
│   │   └── finetune_sd.py
│   ├── generation/              # AI generation
│   │   └── generate_hoodie.py
│   └── requirements.txt
│
├── LICENSE
└── README.md
```

---

## Getting Started

### Prerequisites

- **Python 3.11+** ([Download](https://www.python.org/downloads/))
- **Node.js 18+** and npm ([Download](https://nodejs.org/))
- **CUDA** (optional, for GPU-accelerated AI generation)

### Installation

#### 1. Clone the Repository

```bash
git clone https://github.com/yourusername/msc-project.git
cd msc-project
```

#### 2. Backend Setup

```bash
cd backend

# Create and activate virtual environment
python3.11 -m venv .venv
source .venv/bin/activate  # On Windows: .venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt
```

#### 3. Frontend Setup

```bash
cd frontend

# Install dependencies
npm install
```

#### 4. AI Pipeline Setup (Optional)

```bash
cd ai

# Create and activate virtual environment
python3.11 -m venv .venv
source .venv/bin/activate

# Install dependencies
pip install -r requirements.txt
```

### Running Locally

#### Start Backend Server

```bash
cd backend
source .venv/bin/activate
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

Backend runs at **http://localhost:8000**

#### Start Frontend Development Server

```bash
cd frontend
npm run dev
```

Frontend runs at **http://localhost:8080**

---

## AI Pipeline

### 1. Web Scraping

Collect hoodie designs from multiple marketplaces:

```bash
cd ai/web-scraping
python scrape.py
```

**Features:**
- Scrapes Redbubble, Society6, and Threadless
- Extracts image URLs, titles, artists, tags, and captions
- Configurable page limits and item counts
- Automatic retry logic and error handling

### 2. Image Processing

Filter out designs with embedded text using OCR:

```python
# Automatically applied during scraping
- EasyOCR text detection
- Minimum size filtering (128px)
- Text-free design selection
- Top 10 design ranking per source
```

### 3. Model Fine-Tuning

Fine-tune Stable Diffusion v1.5 on scraped hoodie designs:

```bash
cd ai/training
python finetune_sd.py
```

**Training Configuration:**
- Base Model: Stable Diffusion v1.5
- Training Data: Hoodie designs
- Negative Prompt: "text, letters, words, caption, watermark"
- Fine-tuned components: UNet + Text Encoder

### 4. Design Generation

Generate AI hoodies from descriptions:

```bash
cd ai/generation
python generate_hoodie.py
```

**Generation Parameters:**
- Resolution: 512x512
- Guidance Scale: 7.5
- Inference Steps: 50
- Input: Marketplace design descriptions

---

## API Documentation

### Base URL
- **Development:** `http://localhost:8000`
- **Production (Archived):** `https://msc-project-5na2.onrender.com/`

### Endpoints

#### `GET /`
Health check endpoint.

**Response:**
```json
{
  "message": "AI Hoodie Backend"
}
```

#### `GET /hoodies`
Retrieve all hoodie pairs (original + AI-generated).

**Response:**
```json
[
  {
    "id": "1",
    "title": "Abstract Geometric Design",
    "artist": "DesignStudio",
    "source": "redbubble",
    "original_url": "https://...",
    "generated_url": "https://...",
    "description": "A hoodie design featuring...",
    "tags": ["geometric", "abstract", "colorful"]
  }
]
```

---

## Deployment

### Frontend (Vercel)

1. Connect your GitHub repository to Vercel
2. Configure build settings:
   - **Build Command:** `npm run build`
   - **Output Directory:** `dist`
   - **Install Command:** `npm install`
3. Add environment variables (if needed)
4. Deploy

### Backend (Render)

1. Create new service
2. Connect repository and set root directory to `backend/`
3. Configure:
   - **Build Command:** `pip install -r requirements.txt`
   - **Start Command:** `uvicorn app.main:app --host 0.0.0.0 --port $PORT`
4. Update frontend API URLs to production backend
5. Deploy

---

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## Academic Context

This project was developed as part of an MSc dissertation investigating:
- Human aesthetic preferences in AI-generated fashion designs
- Effectiveness of fine-tuned Stable Diffusion models for domain-specific generation
- Comparative evaluation methodologies for AI-generated content
- User perception of AI vs. human-created designs

**Institution:** Imperial College London <br>
**Program:** MSc Computing <br>
**Year:** 2024-2025 <br>
**Status:** Completed

---

## Acknowledgments

- **Stable Diffusion** by Stability AI and Hugging Face
- **shadcn/ui** for beautiful React components
- **Redbubble, Society6, Threadless** for marketplace data
- Dissertation supervisor and research participants

---

**Note:** This is an academic research project. Scraped designs are used solely for research purposes under fair use educational exemptions.
